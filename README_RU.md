# Sami LLM Proxy Server

–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π HTTP/HTTPS –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM API —á–µ—Ä–µ–∑ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä. –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å [Sami](https://github.com/your-org/sami) –∏–ª–∏ –ª—é–±—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–º—É –Ω—É–∂–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ LLM API.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **HTTP/HTTPS Proxy** - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π HTTP –ø—Ä–æ–∫—Å–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–µ—Ç–æ–¥–∞ CONNECT
- ‚úÖ **–ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –ø–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–ø–∞—Ä–æ–ª—é
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ IP** - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ IP –∞–¥—Ä–µ—Å–∞–º
- ‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ö–æ–Ω—Ç—Ä–æ–ª—å —É—Ä–æ–≤–Ω—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–æ–≤ (error, info, debug)
- ‚úÖ **–ì–æ—Ç–æ–≤ –∫ Docker** - –ü—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- ‚úÖ **–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π** - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –°–∫–∞—á–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
docker run -d \
  --name sami-llm-proxy \
  -p 8080:8080 \
  --restart unless-stopped \
  your-username/sami-llm-proxy:latest
```

### Docker Compose

```yaml
version: '3.8'
services:
  proxy:
    image: your-username/sami-llm-proxy:latest
    ports:
      - "8080:8080"
    environment:
      - PROXY_PORT=8080
      - PROXY_AUTH_USERNAME=admin
      - PROXY_AUTH_PASSWORD=secret
    restart: unless-stopped
```

```bash
docker-compose up -d
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------------|----------|
| `PROXY_PORT` | `8080` | –ü–æ—Ä—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è |
| `PROXY_ADDRESS` | `0.0.0.0` | –ê–¥—Ä–µ—Å –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ (`0.0.0.0` = –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã) |
| `PROXY_AUTH_USERNAME` | - | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è Basic Auth (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| `PROXY_AUTH_PASSWORD` | - | –ü–∞—Ä–æ–ª—å –¥–ª—è Basic Auth (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| `LOG_LEVEL` | `info` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è: `error`, `info` –∏–ª–∏ `debug` |
| `ALLOWED_IPS` | - | –°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö IP –∞–¥—Ä–µ—Å–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é |
| `PROXY_TIMEOUT_MS` | `1200000` | –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20 –º–∏–Ω—É—Ç). –£–≤–µ–ª–∏—á—å—Ç–µ –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö LLM –º–æ–¥–µ–ª–µ–π —Å —Ä–µ–∂–∏–º–æ–º thinking |

### –ü—Ä–∏–º–µ—Ä: –° –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

```bash
docker run -d \
  --name sami-llm-proxy \
  -p 8080:8080 \
  -e PROXY_AUTH_USERNAME=admin \
  -e PROXY_AUTH_PASSWORD=secret123 \
  your-username/sami-llm-proxy:latest
```

### –ü—Ä–∏–º–µ—Ä: –° —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ IP

```bash
docker run -d \
  --name sami-llm-proxy \
  -p 8080:8080 \
  -e ALLOWED_IPS="192.168.1.100,10.0.0.50" \
  your-username/sami-llm-proxy:latest
```

### –ü—Ä–∏–º–µ—Ä: –° –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ç–∞–π–º–∞—É—Ç–æ–º (–¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö LLM –º–æ–¥–µ–ª–µ–π)

```bash
# –¢–∞–π–º–∞—É—Ç 30 –º–∏–Ω—É—Ç –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö thinking –º–æ–¥–µ–ª–µ–π
docker run -d \
  --name sami-llm-proxy \
  -p 8080:8080 \
  -e PROXY_TIMEOUT_MS=1800000 \
  your-username/sami-llm-proxy:latest
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Sami

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–∫—Å–∏ –≤ Sami:
- **Host**: IP –∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **Port**: `8080` (–∏–ª–∏ –≤–∞—à –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç)
- **Type**: `http`
- **Username**: (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- **Password**: (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ–∫—Å–∏
curl http://your-server:8080

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
curl -x http://your-server:8080 https://api.openai.com/v1/models

# –° –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
curl -x http://admin:secret123@your-server:8080 https://api.openai.com/v1/models
```

## –õ–æ–≥–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs sami-llm-proxy

# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f sami-llm-proxy

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
docker logs --tail 100 sami-llm-proxy
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ reverse proxy (Nginx/Caddy) —Å SSL/TLS
2. **–í–∫–ª—é—á–∏—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** - –í—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ `PROXY_AUTH_USERNAME` –∏ `PROXY_AUTH_PASSWORD`
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ IP** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ALLOWED_IPS` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞
4. **Firewall** - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ firewall –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞
5. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ—Å—å** - –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –æ–±—Ä–∞–∑ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏

## –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/your-org/sami-llm-proxy.git
cd sami-llm-proxy

# –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑
docker build -t sami-llm-proxy .

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Node.js
npm install
npm run build
npm start
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker (–¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
- Node.js 20+ (–¥–ª—è –ø—Ä—è–º–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
- –û—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8080)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìñ [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./docs/README.md)
- üêõ [–¢—Ä–µ–∫–µ—Ä –ø—Ä–æ–±–ª–µ–º](https://github.com/sami-projects/sami-llm-proxy/issues)
- üí¨ [–û–±—Å—É–∂–¥–µ–Ω–∏—è](https://github.com/sami-projects/sami-llm-proxy/discussions)

## –°—Å—ã–ª–∫–∏

- üê≥ [Docker Hub](https://hub.docker.com/r/samiapp/sami-llm-proxy)
- üì¶ [GitHub Repository](https://github.com/sami-projects/sami-llm-proxy)

